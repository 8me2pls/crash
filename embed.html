<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Embed Maker</title>
  <style>
    body {
      background:#2c2f33;
      color:#fff;
      font-family:Arial, sans-serif;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      padding:20px;
    }
    .form, .embed { max-width:500px; width:100%; }
    input, textarea, button {
      width:100%; margin:8px 0; padding:10px;
      border:none; border-radius:5px; font-size:14px;
    }
    button { background:#5865F2; color:#fff; cursor:pointer; }
    .embed {
      background:#2f3136;
      border-left:6px solid #5865F2;
      border-radius:8px;
      padding:15px;
      cursor:pointer;
    }
    .embed h2 { margin:0 0 5px; font-size:16px; }
    .embed p { margin:0; color:#ccc; font-size:14px; }
    .embed img { max-width:80px; margin-top:10px; border-radius:5px; }
  </style>
</head>
<body>
  <div id="app"></div>

  <script>
    const q = new URLSearchParams(location.search);
    const app = document.getElementById("app");

    // If we have params, show embed
    if (q.get("t")) {
      const color = q.get("c") || "#5865F2";
      app.innerHTML = `
        <div class="embed" style="border-left:6px solid ${color}" id="emb">
          <h2>${q.get("t")}</h2>
          <p>${q.get("d") || ""}</p>
          ${q.get("th") ? `<img src="${q.get("th")}" alt="thumb">` : ""}
        </div>
      `;
      document.getElementById("emb").onclick = () => location.href = q.get("r") || "/";
    } else {
      // Otherwise show form
      app.innerHTML = `
        <div class="form">
          <h2>Embed Maker</h2>
          <form id="f">
            <input id="title" placeholder="Title" required>
            <textarea id="desc" placeholder="Description"></textarea>
            <input id="color" type="color" value="#5865F2">
            <input id="thumb" placeholder="Thumbnail URL">
            <input id="redirect" placeholder="Redirect URL" required>
            <button type="submit">Generate Link</button>
          </form>
          <input id="link" readonly>
        </div>
      `;
      const f = document.getElementById("f");
      const link = document.getElementById("link");
      f.addEventListener("submit", e => {
        e.preventDefault();
        const p = new URLSearchParams({
          t: f.title.value,
          d: f.desc.value,
          c: f.color.value,
          th: f.thumb.value,
          r: f.redirect.value
        });
        link.value = `${location.origin}${location.pathname}?${p.toString()}`;
      });
    }
  </script>
</body>
</html>u
